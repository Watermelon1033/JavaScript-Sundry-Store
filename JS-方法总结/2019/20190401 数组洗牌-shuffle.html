<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>20190401 数组洗牌 shuffle</title>
</head>
<body>
    <div class="wrapper">

    </div>

    <script type="text/javascript">
        let numbers = [1, 2, 3, 4, 5, 6, 7, 8, 9, 11, 15, 16, 23, 45, 77];

        // 辅助函数: 返回 min 和 max 之间的一个随机数，包含 max
        let getRandomInt = (min, max) => {
            // 加 1 为了确保能取得上线 max
            // Math.floor(): 执行向下舍入，即它总是将数值向下舍入为最接近的整数
            return Math.floor(Math.random() * (max - min + 1) + min);
        };

        let shuffle = (arr) => {
            /** slice() 方法可以接受一或两个参数，即要返回项的起始和结束位置。在只有一个参数的情况下，
             * 返回从该参数指定位置开始到当前数组末尾的所有项。如果有两个参数，该方法返回起始和结束位置
             * 之间的项——但不包括结束位置的项。slice() 方法不会影响原始数组。 */
            let _arr = arr.slice();

            // 思路是遍历 array
            for (let i = 0; i < _arr.length; i++) {
                // 然后从 0 到 i 之间取一个数(即: 索引, 通过上面的 getRandomInt 函数取得)，
                let j = getRandomInt(0, i);
                // 把当前项赋值给 current 变量
                let current = _arr[i];
                // 把随机取得的项赋值给当前 _arr[i]
                _arr[i] = _arr[j];
                // 然后把 current 赋值给 _arr[j]
                _arr[j] = current;
            }
            return _arr;
        };

        // 随机输出之一:  // [2, 7, 6, 23, 11, 3, 16, 45, 5, 4, 8, 15, 1, 9, 77]
        console.log("shuffle(numbers): ", shuffle(numbers));
    </script>
</body>
</html>
